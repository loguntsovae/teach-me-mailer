# Mail Gateway Service Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================

# PostgreSQL connection string
# Format: postgresql+asyncpg://username:password@host:port/database
# Example: postgresql+asyncpg://postgres:mypassword@localhost:5432/mailgateway
DATABASE_URL=postgresql+asyncpg://postgres:password@postgres:5432/mailgateway

# Enable SQL query logging for debugging (optional, default: false)
DATABASE_ECHO=false

# =============================================================================
# SMTP CONFIGURATION (REQUIRED)
# =============================================================================

# SMTP server hostname (required)
# Examples: smtp.gmail.com, smtp.mailgun.org, smtp.sendgrid.net
SMTP_HOST=smtp.gmail.com

# SMTP server port (optional, default: 587)
SMTP_PORT=587

# SMTP authentication credentials (required)
# For Gmail: use App Password, not your regular password
# For other providers: use your SMTP credentials
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-smtp-password-or-app-password

# Default sender email address (required)
# This will be used as the "From" address for outgoing emails
SMTP_FROM_ADDRESS=noreply@yourdomain.com

# =============================================================================
# SECURITY CONFIGURATION (OPTIONAL)
# =============================================================================

# CORS allowed origins (optional, default: none - CORS disabled)
# Comma-separated list of allowed origins for web browsers
# Examples: 
#   CORS_ORIGINS=https://yourdomain.com
#   CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
#   CORS_ORIGINS=*  # WARNING: Allow all origins (not recommended for production)
CORS_ORIGINS=

# Maximum request size in bytes (optional, default: 262144 = 256KB)
# Prevents large payloads from overwhelming the server
MAX_REQUEST_SIZE=262144

# =============================================================================
# LOGGING CONFIGURATION (OPTIONAL)  
# =============================================================================

# Logging level (optional, default: INFO)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Enable JSON structured logging (optional, default: true)
# Set to false for human-readable logs during development
LOG_JSON=true

# =============================================================================
# EXAMPLE CONFIGURATIONS FOR COMMON EMAIL PROVIDERS
# =============================================================================

# Gmail Configuration:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-gmail@gmail.com
# SMTP_PASSWORD=your-16-char-app-password
# SMTP_FROM_ADDRESS=your-gmail@gmail.com
# 
# Note: Enable 2FA and generate an App Password at:
# https://myaccount.google.com/apppasswords

# SendGrid Configuration:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USERNAME=apikey
# SMTP_PASSWORD=your-sendgrid-api-key
# SMTP_FROM_ADDRESS=noreply@yourdomain.com

# Mailgun Configuration:
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USERNAME=postmaster@your-mailgun-domain.com
# SMTP_PASSWORD=your-mailgun-smtp-password
# SMTP_FROM_ADDRESS=noreply@your-mailgun-domain.com

# AWS SES Configuration:
# SMTP_HOST=email-smtp.us-east-1.amazonaws.com
# SMTP_PORT=587
# SMTP_USERNAME=your-ses-smtp-username
# SMTP_PASSWORD=your-ses-smtp-password
# SMTP_FROM_ADDRESS=verified-sender@yourdomain.com

# =============================================================================
# DEVELOPMENT/TESTING OVERRIDES
# =============================================================================

# Uncomment these for local development:
# DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/mailgateway
# LOG_LEVEL=DEBUG
# LOG_JSON=false
# DATABASE_ECHO=true

# =============================================================================
# PRODUCTION NOTES
# =============================================================================

# For production deployment:
# 1. Use strong, unique passwords for database and SMTP
# 2. Enable HTTPS/TLS for all connections
# 3. Set appropriate CORS_ORIGINS (avoid using *)
# 4. Use LOG_JSON=true for structured logging
# 5. Set LOG_LEVEL=INFO or WARNING to reduce log noise
# 6. Consider using environment-specific secrets management
# 7. Regularly rotate SMTP credentials
# 8. Monitor the /metrics endpoint for performance insights